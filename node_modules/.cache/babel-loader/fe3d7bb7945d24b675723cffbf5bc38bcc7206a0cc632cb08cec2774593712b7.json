{"ast":null,"code":"import _slicedToArray from\"/Users/varvaranamar/Desktop/praktikum/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import api from'../utils/Api';import Card from'./Card';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(_ref){var onEditProfile=_ref.onEditProfile,onAddPlace=_ref.onAddPlace,onEditAvatar=_ref.onEditAvatar,onCardClick=_ref.onCardClick;var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),userName=_React$useState2[0],setUserName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),userDescription=_React$useState4[0],setUserDescription=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),userAvatar=_React$useState6[0],setUserAvatar=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),cards=_React$useState8[0],setCards=_React$useState8[1];React.useEffect(function(){api.getStartData().then(function(_ref2){var _ref3=_slicedToArray(_ref2,2),userData=_ref3[0],cards=_ref3[1];setUserName(userData.name);setUserDescription(userData.about);setUserAvatar(userData.avatar);setCards(cards);}).catch(function(err){return console.log(err);});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"main-content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__container\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onEditAvatar,className:\"profile__avatar-edit-button\",\"aria-label\":\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",type:\"button\",children:/*#__PURE__*/_jsx(\"div\",{className:\"profile__avatar\",style:{backgroundImage:\"url(\".concat(userAvatar,\")\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__edit-bio\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__name\",children:userName}),/*#__PURE__*/_jsx(\"button\",{onClick:onEditProfile,className:\"profile__edit-button\",\"aria-label\":\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",type:\"button\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__caption\",children:userDescription})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onAddPlace,className:\"profile__add-button\",\"aria-label\":\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0444\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0438\\u0438\",type:\"button\"})]}),/*#__PURE__*/_jsx(\"section\",{className:\"elements\",children:cards.map(function(card){return/*#__PURE__*/_jsx(Card,{id:card._id,card:card,title:card.name,likes:card.likes.length,onCardClick:onCardClick});})})]});}export default Main;","map":{"version":3,"names":["React","api","Card","jsx","_jsx","jsxs","_jsxs","Main","_ref","onEditProfile","onAddPlace","onEditAvatar","onCardClick","_React$useState","useState","_React$useState2","_slicedToArray","userName","setUserName","_React$useState3","_React$useState4","userDescription","setUserDescription","_React$useState5","_React$useState6","userAvatar","setUserAvatar","_React$useState7","_React$useState8","cards","setCards","useEffect","getStartData","then","_ref2","_ref3","userData","name","about","avatar","catch","err","console","log","className","children","onClick","type","style","backgroundImage","concat","map","card","id","_id","title","likes","length"],"sources":["/Users/varvaranamar/Desktop/praktikum/mesto-react/src/components/Main.js"],"sourcesContent":["import React from 'react';\nimport api from '../utils/Api';\nimport Card from './Card'\n\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick }) {\n  const [userName, setUserName] = React.useState('');\n  const [userDescription, setUserDescription] = React.useState('');\n  const [userAvatar, setUserAvatar] = React.useState('');\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api\n      .getStartData()\n      .then(([userData, cards]) => {\n        setUserName(userData.name);\n        setUserDescription(userData.about);\n        setUserAvatar(userData.avatar);\n        setCards(cards);\n      })\n      .catch(err => console.log(err));\n  }, []);\n\n  return (\n    <main className=\"main-content\">\n      <section className=\"profile\">\n        <div className=\"profile__container\">\n          <button\n            onClick={onEditAvatar}\n            className=\"profile__avatar-edit-button\"\n            aria-label=\"Редактировать аватар\"\n            type=\"button\"\n          >\n            <div\n              className=\"profile__avatar\"\n              style={{ backgroundImage: `url(${userAvatar})` }}\n            ></div>\n          </button>\n          <div className=\"profile__info\">\n            <div className=\"profile__edit-bio\">\n              <h1 className=\"profile__name\">{userName}</h1>\n              <button\n                onClick={onEditProfile}\n                className=\"profile__edit-button\"\n                aria-label=\"Редактировать профиль\"\n                type=\"button\"\n              />\n            </div>\n            <p className=\"profile__caption\">{userDescription}</p>\n          </div>\n        </div>\n        <button\n          onClick={onAddPlace}\n          className=\"profile__add-button\"\n          aria-label=\"Добавить фотографии\"\n          type=\"button\"\n        />\n      </section>\n      <section className=\"elements\">\n      {cards.map((card) => (\n          <Card\n            id={card._id}\n            card={card}\n            title={card.name}\n            likes={card.likes.length}\n            onCardClick={onCardClick}\n          />\n        ))}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}